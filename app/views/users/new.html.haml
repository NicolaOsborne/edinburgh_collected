.container
  .col-xs-12
    %h1 Sign Up

    = simple_form_for @user,
      wrapper: :horizontal_form,
      html: {class: 'form-horizontal', role: 'form'} do |form|

      = form.error_notification

      #user_is_group.form-group
        .col-sm-4
          = form.label :is_group
        .col-sm-8
          = form.collection_radio_buttons :is_group, [[false, 'An individual'], [true, 'A group']], :first, :last

      = form.input :first_name, input_html: {class: 'form-control'}
      = form.input :last_name, input_html: {class: 'form-control'}

      = form.input :screen_name, input_html: {class: 'form-control'}
      = form.input :email, input_html: {class: 'form-control'}
      = form.input :password, required: true, input_html: {class: 'form-control'}
      = form.input :password_confirmation, input_html: {class: 'form-control'}

      .form-group
        .actions.col-xs-sm-12
          = link_to "Cancel", root_path, class: "btn btn-default"
          = form.submit "Sign Up", class: "btn btn-primary"

:javascript
  $('#user_is_group input[type="radio"]').on('change', function (e) {
    var label = $('label[for="user_first_name"]');
    if ($(e.currentTarget).val() === 'true') {
      label.html('<abbr title="required">*</abbr> Group name');
      $('.user_last_name').hide()
    } else {
      label.html('<abbr title="required">*</abbr> First name');
      $('.user_last_name').show()
    }
  })
