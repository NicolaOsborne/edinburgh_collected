<div id="scrapbook" class="container">
  <div id="grid">
    <header id="contentHeader" class="clearfix">
      <h1><%= @scrapbook.title %></h1>
      <span class="actions">
         <% if current_user.try(:can_modify?, @scrapbook) %>
           <%= link_to "Add memories", memories_path, role: "button", :class => "button memories"  %>
           <%= link_to "Edit", edit_my_scrapbook_path(@scrapbook.id), :class => "button navy edit"  %>
           <%= link_to "Delete", my_scrapbook_path(@scrapbook.id), :class => "button scrapbooks" , method: :delete, data: {confirm: 'Are you sure?'} %>
         <% end %>
        <%= link_to 'Back to scrapbooks', current_scrapbook_index_path, :class => "button scrapbooks" %>
      </span>
    </header>

    <div id="description">
      <p><%= @scrapbook.description %></p>
    </div>

    <% memories = @scrapbook.scrapbook_memories.by_ordering.map(&:memory) %>
    <div class="masonry-loading-spinner"><div class="spinner"></div></div>
      <div id="memories" class="masonry-grid">
        <% memories.each do |memory| %>
          <%= render partial: 'memories/memory_thumb', locals: {memory: memory} %>
        <% end %>
      </div>
    </div>
  </div>
</div>

<script type="text/javascript">
  $(".masonry-loading-spinner .spinner").spin();
</script>

