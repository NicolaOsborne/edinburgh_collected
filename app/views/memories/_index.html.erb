<% show_inline_add ||= false %>

<div class="masonry-loading-spinner"><div class="spinner"></div></div>
<div class="memory-container">
  <%= render partial: 'shared/pagination', locals: {items: @memories} %>
  <div id="memories" class="masonry-grid">

    <% if show_inline_add -%>
      <%= link_to new_my_memory_path, class: "add memory thumb masonry", title: "Add a memory", role: "button" do %>
        <div class="img">
          <span class="glyphicon glyphicon-plus" aria-hidden="true"></span>
        </div>
        <div class="detail">
          <h3 class="title">Add a memory</h3>
        </div>
      <% end -%>
    <% end -%>

    <% @memories.each do |memory| %>
      <%= render partial: 'memories/memory_thumb', locals: {memory: memory} %>
    <% end %>
  </div>
  <%= render partial: 'shared/pagination', locals: {items: @memories} %>
</div>
<script type="text/javascript">
  $(".masonry-loading-spinner .spinner").spin();
</script>

