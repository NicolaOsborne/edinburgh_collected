.container
  .col-xs-12
    =simple_form_for @memory,
      url: my_memories_url,
      wrapper: :horizontal_form,
      wrapper_mappings: { file: :horizontal_file_input },
      html: {id: "add-memory", class: "form-horizontal", role: "form"} do |f|

      = render partial: 'form_errors', object: @memory

      = f.input :file_type, as: :select, collection: Memory.file_types, wrapper_html: {class: 'required'}, input_html: {class: 'form-control'}
      = f.input :source, as: :file

      = render partial: 'details_form', object: @memory, locals: { form: f }

      .form-group
        .actions.col-xs-sm-12
          = link_to "Cancel", my_memories_path, class: "btn btn-default"
          = f.button :submit, "Save And Add Another", class: "btn btn-primary", disabled: true
          = f.button :submit, "Save", class: "btn btn-primary", disabled: true

:javascript
  $(document).ready(function () {
    new Validator($('#add-memory')).validate()
  });

