<div class="container">

 <div id="newMemorySteps" class="row">
  <div class="step step1 col-md-4">
   <span>1</span> Choose the type of file
  </div>
  <div class="step step2 col-md-4">
   <span>2</span> Upload your memory
  </div>
  <div class="step step3 col-md-4">
   <span>3</span> Upload Complete
  </div>
 </div>

 <div id="newMemoryForm" class="formWrapper row">
  <div id="formPanel" class="col-md-6">
    <h1>Add a new memory</h1>
      <%= simple_form_for @memory,
        as: :memory,
        url: my_memories_url,
        wrapper: :horizontal_form,../../../../config/initializers/simple_form_bootstrap.rb
        wrapper_mappings: { file: :horizontal_file_input },
        html: {id: "add-memory", class: "form-horizontal", role: "form"} do |form| %>

        <%= form.error_notification %>

        <%= form.input :type, as: :select, collection: Memory.file_types, required: true, input_html: {class: 'form-control'} %>

        <%= form.input :source, as: :file %>
        <%-# %a#select-file.btn.btn-primary Select file %>../../../../config/initializers/simple_form_bootstrap.rb
        <%= render partial: 'image_editor', locals: {form: form} %>

        <%= render partial: 'details_form', object: @memory, locals: {form: form} %>

        <div class="form-group">
          <div class="actions col-xs-sm-12">
            <%= link_to "Cancel", my_memories_path, class: "btn btn-default" %>
            <%= form.button :submit, "Save And Add Another", class: "btn btn-primary", disabled: true %>
            <%= form.button :submit, "Save", class: "btn btn-primary", disabled: true %>
          </div>
        </div>
      <% end %>
    </div>
    <div class="col-md-6">
      <div id="infoPanel">
       <h1>Explanation to go here</h1>
      </div>
    </div>

  </div>
</div>

<script type="text/javascript">
  $(document).ready(function () {
    new Validator($('form#add-memory')).validate();
    fileInputEl = $('#memory_source')[0]
    editorEl    = $('#image-editor')[0]
    rotationEl  = $('#memory_rotation')[0]
    new UploadedImageEditor(fileInputEl, editorEl, rotationEl);
  });
</script>
