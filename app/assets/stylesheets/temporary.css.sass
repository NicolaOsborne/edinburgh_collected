@import "bourbon"


$navy-blue:     #35404d
$cream:         #eeece7
$red:           #be2b09
$module:        #f0efea
$light-grey:    #eaebe9
$beige:         #c9ccc1
$green:         #51b0aa


=border-radius($radius)
  -webkit-border-radius: $radius
  -moz-border-radius:    $radius
  -ms-border-radius:     $radius
  border-radius:         $radius

=box-shadow($top, $left, $blur, $color, $inset:"")
  -webkit-box-shadow:    $top $left $blur $color #{$inset}
  -moz-box-shadow:       $top $left $blur $color #{$inset}
  box-shadow:            $top $left $blur $color #{$inset}



/* ==================================== BASICS */

html, body
  overflow-x: hidden
  background-color: $light-grey
  font-family: 'Open Sans', sans-serif
  font-size: 16px
  color: $navy-blue



/* ==================================== TYPOGRAPHY */

a
  color: $navy-blue

h1, h2, h3
  font-family: 'Open Sans', sans-serif
  font-weight: 600

.back_button
  margin: 1em 0
  display: block
  font-weight: 300

  &:before
    content: "< "

  &:hover
    color: $red

/* ==================================== HEADER */

header
  position: relative
  margin-top: 2em


  .navbar
    margin-bottom: 0

    .navbar-toggle .icon-bar
      background: $navy-blue

    .navbar-collapse
      float: right
      padding: 0
      position: relative
      right: 0

      ul.nav
        float: right

        li

          a:hover
            background: inherit

          ul
            padding: 0

            li a
              padding: 10px 15px
              line-height: 20px
              display: block




  #logo
    padding-left: 0
    margin-top: 1.25em
    position: absolute
    bottom: 0

    .navbar-brand
      display: block
      float: none
      height: auto
      position: relative
      padding: 0
      font-size: inherit
      line-height: 100%
      margin-bottom: 0

  #searchwrapper
    background: $navy-blue
    position: relative
    padding: 0.5em
    margin: 0em 0 0 0
    float: right
    height: 1em

    a
      color: #ffffff

      &:hover
        text-decoration: none

    .dropdowns
      display: inline-block
      z-index: 500
      padding: 0

      select
        display: inline
        width: auto
        margin: 0em 0.5em 0em 0

    .searchForm
      padding: 0

      float: right
      text-align: right

      form
        background: none
        margin-bottom: 0
        padding: 0

      input
        display: inline-block





/* ==================================== LAYOUT */

.module
  background-color: $module
  padding: 0.5em
  border: 1px solid #d5d0b7
  +border-radius(3px)
  +box-shadow(0, 1px, 1px, rgba(0, 0, 0, 0.5))


footer
  padding: 10px 0
  text-align: center
  background: $navy-blue
  color: $cream

.error-message
  border: 1px solid #a94442
  color: #a94442
  padding: 0.6em

.flashes
  .alert, .notice
    padding: 15px
    border: 1px solid transparent
    border-radius: 4px
    color: white
    margin: 16px 0 0 0

    .close
      text-shadow: 0 0 0 #fff
      margin-top: -2px
      opacity: 1

  .alert
    background: red

    .close
      color: tan

      &:hover
        color: lighten(tan, 15)

  .notice
    background: green

    .close
      color: lighten(green, 10)

      &:hover
        color: lighten(green, 20)


ul.nav.nav-pills
  display: inline-block

  li
    background: #ddd
    border-radius: 0px

    a
      color: #2a6496
      border-radius: 0px

    &.active a
      background: #333
      color: white

button#create-scrapbook-button
  margin-bottom: 10px

.photo
  padding: 0

/* ==================================== HOME PAGE */

#homeContent
  h1
    font-size: 1.25em
    padding: 0 0 0.5em 0

  #contentModules
    padding: 2em 0 0 0

    #joinES
      text-align: center

      a.btn
        width: 80%
        margin-bottom: 0.5em
      p
        margin: 0

  #featuredScrapbook
    border-top: 3px solid $navy-blue
    margin: 2em 0

    h2
      text-transform: uppercase
      font-size: 1em
    h3
      font-weight: 300

    #scrapbookImages
      padding-top: 1em
      .masonry
        width: 24%
        padding: 0 1% 2% 1%

        a
          padding: 0.53em
          background: white
          display: block




/* ==================================== BROWSE */

#contentHeader
  border-bottom: $navy-blue 1px solid
  padding: 2em 0 0.5em
  margin-bottom: 2em

  h1, h2
    margin: 0
    display: inline-block

  span.actions
    float: right

    a
      background: $navy-blue
      color: white
      padding: 0.5em
      display: inline-block


/* ==================================== MEMORIES */

.memory.full

  header
    margin-bottom: 1em

    .userAvatar
      float: left
      margin-right: 1em

  .photo
    margin-bottom: 1em

    img
      margin-bottom: 1em

  .memory-meta
    background-color: $navy-blue
    color: $cream
    padding: 1em

    p.saved, p.views
      text-align: center

    .buttons
      text-align: center
      display: block

      a
        margin: 0.25em
        display: inline-block


a#add-memory-button
  width: 150px
  margin-bottom: 1px


a.memory, a.scrapbook
  text-decoration: none

  &:hover
    text-decoration: none

.memory, .scrapbook
  button.remove-memory
    display: inline-block
  button.undo-remove
    display: none

  &.thumb
    background: white

    div
      &.img, &.button
        text-align: center
        padding: 0.5em

      &.button
        span.glyphicon.glyphicon-plus
          font-size: 128px
          vertical-align: middle

      &.detail
        margin: 0 10px 10px 10px

        h3
          font-size: 20px
          margin: 0.25em 0

  &.full
    img
      max-width: 100%

  &.deleted
    button.remove-memory
      display: none
    button.undo-remove
      display: inline-block

  &.moderation
    text-align: left
    padding: 0.4em
    vertical-align: top

    .actions, .details, .info, .media
      display: inline-block
      vertical-align: top

    .actions
      margin-top: 10px
      background: #aaa
      padding:  10px

      ul
        padding-left: 0

      li
        list-style: none
        margin-bottom: 5px

      a.btn
        width: 150px

    .details
      border: 5px solid #aaa
      background: white
      margin-top: 10px
      margin-left: -3px

    .info
      width: 500px
      padding: 0.4em


/* ==================================== MASONRY STUFF */

.masonry-grid

  .masonry
    width: 320px
    margin-bottom: 50px

    .detail
      margin: 0 10px 10px 10px

/* ==================================== SCRAPBOOKS */

#scrapbooks, #scrapbook

  #description
    text-align: center
    font-style: italic
    font-size: 1.5em
    padding: 0 0 1em 0

  .masonry
    width: 320px
    margin-bottom: 50px


/* ==================================== PROFILE */

#profileHeader
  background: $beige
  margin: 2em 0 0 0

  .wrapper
    padding: 15px
    float: left

    h1
      margin: 0

  #userContent
    float: right
    display: inline-block

    div
      display: inline-block
      text-align: center
      padding: 0.5em

      &.active
        background: $navy-blue
        a
          color: white

      span
        display: block

.profile, .user-card
  .details
    background: none !important

  .userAvatar
    float: left
    margin-right: 1em




/* ==================================== FORMS */

#newMemorySteps
  padding: 3em 0 2em 0
  text-align: center
  text-transform: uppercase

  .step > span
    background: $navy-blue
    color: white
    margin-right: 0.25em
    padding: 0.25em 0.75em
    +border-radius(50%)

  .step1
    text-align: left

  .step3
    text-align: right


#newMemoryForm
  background: white
  margin-left: 0
  margin-right: 0

  #formPanel
    background: #d9dbd7

    select
      width: auto

    label.control-label
      padding-bottom: 0.25em

    .check_boxes
      display: block
      padding-bottom: 0

      .checkbox
        display: inline-block
        width: 40%
        font-weight: 400




form
  background-color: transparent !important
  margin: 0 0 0 0 !important

  label
    text-align: left !important

a.rotate
  text-decoration: none

  &#rotate-left:hover
    @include transform(rotate(-30deg))
    @include transition(all 0.5s)

  &#rotate-right:hover
    @include transform(rotate(30deg))
    @include transition(all 0.5s)

form, .form-title
  max-width: 750px

form
  background-color: white
  padding: 1em

  &.minimal
    padding: 0

  &#add-memory img, &#edit-memory img
    max-width: 720px
    margin-bottom: 1em

  label
    min-width: 230px

    &.control-label
      padding-right: 5px

    &.collection_radio_buttons
      min-width: 10px
      margin: 0.4em 0.6em

    &.checkbox
      margin-left: 1.3em

  .actions
    padding-right: 15px
    float: right

    input[type="submit"]
      margin-left: 10px

  .field_with_errors
    color: white
    padding: 2px
    background-color: red

  #image-editor-wrapper
    display: none

  #image-editor
    text-align: center
    padding: 10px
    margin-bottom: 0.6em
    background: lightgrey

    .rotate img
      width: 25px
      margin-bottom: 0

  .info
    font-style: italic

.modal
  form
    label
      min-width: 180px

/* ==================================== SIGN IN / SIGN OUT */

#signIn, #signUp
  padding: 5em 0

  h1
    text-align: center
  form
    label
      text-align: left!important

  p.switch
    font-weight: 600
    text-align: center

  #user_is_group
    text-align: left



/* ==================================== MESSAGES */

li.greeting
  padding-top: 15px
  color: white

.navbar-inverse .navbar-nav > li.greeting > a
  margin: 0
  padding: 0
  color: white

  &:hover
    color: #777777


/* ==================================== MISC */

.container img
  max-width: 100%
  height: auto


.override .mailto.ninja
  // put any override styles in here

/* hides and disables the element */
.hide
  display: none

/* hides the element without disabling it */
.hide-whilst-enabled
  width: 0
  height: 0
  overflow: hidden

.float-left
  float: left
.float-right
  float: right



/* ==================================== ADMIN */
table.items
  background-color: cornsilk
  text-align: left

  thead
    background-color: black
    color: white

  td
    &.approved, &.rejected
      color: white

    &.approved
      background-color: #5cb85c

    &.rejected
      background-color: #d9534f

.btn
  &.unmoderate, &.approve, &.reject
    color: white

  &.unmoderate
    background-color: #428bca
    border-color: #357ebd

    &:hover
      background-color: #3071a9
      border-color: #285e8e

  &.approve
    background-color: #5cb85c
    border-color: #4cae4c

    &:hover
      background-color: #449d44
      border-color: #398439

  &.reject
    background-color: #d9534f
    border-color: #d43f3a

    &:hover
      background-color: #c9302c
      border-color: #ac2925


ul.admin-toolbar
  list-style: none
  display: inline-block
  margin: 0
  padding: 0.4em
  width: 100%

  li.state
    float:left
    color: white
    padding: 0.4em
    text-align: center
    font-size: 1.4em
    font-variant: small-caps

    &.unmoderated
      background-color: #428bca

    &.approved
      background-color: #5cb85c

    &.rejected
      background-color: #d9534f

  ul.moderation-actions
    list-style: none
    display: inline-block
    background: whitesmoke
    margin: 0
    padding: 0.4em
    width: 100%

    li
      float: left
      margin-right: 10px

      .btn-disabled
        border: 1px solid #ccc
        border-bottom: -1px
        color: #ccc



/* ==================================== BETA */

.beta
  font-size: smaller
  margin: 0 3px

.feedback
  position: absolute


.user-card
  .details
    background: white
    padding-bottom: 1em

  .actions
    a
      float: right
      margin: 10px 0



/* ==================================== STYLEGUIDE */

body.styleguide
  padding-top: 0

  h1.header
    background: black
    color: white
    padding: 0.2em
    margin: 0

  nav
    background: grey
    padding: 0.4em

    a
      color: white
      margin-right: 1em
      margin-left: 0.4em

  .styles
    margin-bottom: 10px





@media screen and (max-width: 767px)

  header
    margin-top: 0

    #logo
      margin-top: 1em
      position: relative
      margin-bottom: 1em

      .navbar-brand
        float: none

        img
          margin: 0 auto

    .navbar
      .container
        padding: 0

      .navbar-collapse
        background: $navy-blue
        right: auto
        width: 100%
        text-align: right
        padding-right: 15px
        margin: 0

        a
          color: white !important

          &:hover
            background: inherit

    #searchwrapper
      margin-top: 0em



  h1
    font-size: 28px
    text-align: center

  h2
    font-size: 24px
    text-align: center
    margin-top: 0

  a.feedback.btn.btn-primary
    width: 100%
    margin: 10px 0

  .dropdowns
    a
      display: block

    select
      margin: 0

  form
    background-color: #ccc

    #image-editor-wrapper
      width: 300px
      margin-left: -30px

    &.minimal
      background-color: #fff

    .actions
      width: 100%
      text-align: center
      margin-top: 15px

      .btn
        margin-bottom: 5px
        display: block

      input[type="submit"]
        width: 100%

      a.btn
        margin-left: 10px
        margin-right: -11px

  .col-xs-12.global-asset-actions
    text-align: center

  .photo
    text-align: center
    margin-top: 10px

  .global-memory-actions
    text-align: center

    a#add-memory
      width: 80%

  a.memory
    &.thumb
      margin: 0 auto
      div
        &.img
          line-height: 100%

  .user-card
    .details
      h1
        text-align: left

    .actions
      a
        width: 100%
        margin: 10px 0





/* Medium devices */

@media (min-width: 768px)
  #grid > #memories .memory
    width: 320px

  .memory img
    padding: 0

  .navbar-nav
    li.profile
      position: relative
      ul
        position: absolute
        right: 0
        width: 150px
        text-align: right
        background: $green
        z-index: 100
        padding: 0 0 10px 0
        list-style: none
        display: none

        a
          color: $cream
          padding: 1em 0.5em

      &:hover
        background: $green
        a
          color: $cream

        ul
          display: block

  .navbar #searchwrapper .searchForm input
    width: 100%



/* Large devices min-width (1200px) + a .memory margin (50px) * 2 (100px) = 1300px */


@media (min-width: 1300px)
  #grid
    position: relative

  #grid.container
    left: auto
    padding-left: 15px
    padding-right: 15px
